<div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <div class="card shadow rounded-4">
  
          <div class="card-header text-center">
            <h2>Perfil del Usuario</h2>
          </div>
  
          <div class="card-body">
  
            <ul class="nav nav-tabs mb-4">
              <li class="nav-item">
                <a class="nav-link"
                   [class.active]="activeTab === 'profile'"
                   (click)="setActiveTab('profile')"
                   role="button">Perfil</a>
              </li>
              <li class="nav-item">
                <a class="nav-link"
                   [class.active]="activeTab === 'reserva'"
                   (click)="setActiveTab('reserva')"
                   role="button">Reservas</a>
              </li>
              <li class="nav-item ms-auto">
                <a class="nav-link text-danger" (click)="logout()" role="button">
                  <i class="bi bi-box-arrow-right"></i> Cerrar sesión
                </a>
              </li>
            </ul>
  
            <div *ngIf="activeTab === 'reserva'">
              <p>Lista de reservas...</p>
            </div>
  
            <div *ngIf="activeTab === 'profile'">
              <form (ngSubmit)="saveChanges()" #profileForm="ngForm" novalidate>
                <div class="row">
  
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="nombres" class="form-label">Nombres</label>
                      <input type="text" id="nombres" class="form-control"
                        [(ngModel)]="editableUser.nombres" name="nombres" required
                        pattern="[a-zA-Z\s]+"
                        #nombres="ngModel"
                        [class.is-invalid]="nombres.invalid && nombres.touched" />
                      <div *ngIf="nombres.invalid && nombres.touched" class="text-danger small">
                        Ingrese solo letras. Este campo es obligatorio.
                      </div>
                    </div>
  
                    <div class="mb-3">
                      <label for="apellidos" class="form-label">Apellidos</label>
                      <input type="text" id="apellidos" class="form-control"
                        [(ngModel)]="editableUser.apellidos" name="apellidos" required
                        pattern="[a-zA-Z\s]+"
                        #apellidos="ngModel"
                        [class.is-invalid]="apellidos.invalid && apellidos.touched" />
                      <div *ngIf="apellidos.invalid && apellidos.touched" class="text-danger small">
                        Ingrese solo letras. Este campo es obligatorio.
                      </div>
                    </div>
  
                    <div class="mb-3">
                      <label for="documentoidentidad" class="form-label">Documento de Identidad</label>
                      <input type="text" id="documentoidentidad" class="form-control"
                        [(ngModel)]="editableUser.documentoidentidad" name="documentoidentidad" required
                        pattern="^\d{8}$" maxlength="8"
                        #documentoidentidad="ngModel"
                        [class.is-invalid]="documentoidentidad.invalid && documentoidentidad.touched" />
                      <div *ngIf="documentoidentidad.invalid && documentoidentidad.touched" class="text-danger small">
                        Debe tener exactamente 8 números.
                      </div>
                    </div>
                  </div>
  
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="direccion" class="form-label">Dirección</label>
                      <input type="text" id="direccion" class="form-control"
                        [(ngModel)]="editableUser.direccion" name="direccion" required
                        #direccion="ngModel"
                        [class.is-invalid]="direccion.invalid && direccion.touched" />
                      <div *ngIf="direccion.invalid && direccion.touched" class="text-danger small">
                        Este campo es obligatorio.
                      </div>
                    </div>
  
                    <div class="mb-3">
                      <label for="telefono" class="form-label">Teléfono</label>
                      <input type="text" id="telefono" class="form-control"
                        [(ngModel)]="editableUser.telefono" name="telefono" required
                        pattern="^\d{9}$" maxlength="9"
                        #telefono="ngModel"
                        [class.is-invalid]="telefono.invalid && telefono.touched" />
                      <div *ngIf="telefono.invalid && telefono.touched" class="text-danger small">
                        Debe tener exactamente 9 números.
                      </div>
                    </div>
  
                    <div class="mb-3">
                      <label for="correo" class="form-label">Correo electrónico</label>
                      <input type="email" id="correo" class="form-control"
                        [(ngModel)]="editableUser.correo" name="correo" required
                        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
                        #correo="ngModel"
                        [class.is-invalid]="correo.invalid && correo.touched" />
                      <div *ngIf="correo.invalid && correo.touched" class="text-danger small">
                        Ingrese un correo válido.
                      </div>
                    </div>
                  </div>
                </div>
  
                <div class="d-flex justify-content-between mt-4">
                  <button type="submit" class="btn btn-success px-4" [disabled]="!profileForm.form.valid">
                    Guardar cambios
                  </button>
                  <button type="button" class="btn btn-outline-danger px-3" (click)="deleteAccount()">
                    <i class="bi bi-trash"></i> Eliminar cuenta
                  </button>
                </div>
              </form>
            </div>
          </div>
  
        </div>
      </div>
    </div>
  </div>
  